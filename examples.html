<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Examples – Camcloud Developer</title>

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/main.css">

  <!-- Font Awesome for language / copy icons -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ─── NAV (unchanged) ─── */
    nav{position:sticky;top:0;z-index:999;display:flex;align-items:center;gap:1rem;
        padding:1.25rem 1.5rem;background:#152534;box-shadow:0 2px 6px rgba(0,0,0,.4)}
    nav img{height:72px}
    .menu-toggle{display:none;background:none;border:none;cursor:pointer;margin-left:auto}
    .menu-toggle svg{width:32px;height:32px}
    .nav-links{display:flex;flex:1;justify-content:space-evenly;list-style:none;margin-left:auto;padding:0}
    .nav-links li a{font-size:1.2rem;font-weight:600;color:#e8f0ff;text-decoration:none;
                    border-bottom:3px solid transparent;padding-bottom:4px;transition:.25s}
    .nav-links li a:hover,.nav-links li a:focus{color:#29b6f6;border-bottom-color:#29b6f6}
    @media (max-width:700px){
      .menu-toggle{display:block}
      .nav-links{display:none;flex-direction:column;position:absolute;top:72px;left:0;width:100%;
                 background:#152534;padding:1rem 0;gap:1rem;text-align:center}
      nav.open .nav-links{display:flex}
    }

    /* ─── PAGE ─── */
    main{max-width:960px;margin:2.5rem auto;padding:0 1rem;font-size:1rem;line-height:1.55}
    h1{font-size:2.25rem;margin-bottom:1.25rem}
    h2{margin:2rem 0 1rem;font-size:1.55rem;color:#29b6f6}
    article{margin-bottom:2.5rem;border-bottom:1px solid #304357;padding-bottom:2.5rem}

    /* ─── CODE SAMPLES ─── */
    .code-sample{border:1px solid #304357;border-radius:6px;margin-top:.75rem}
    .code-toolbar{display:flex;align-items:center;justify-content:space-between;
                  background:#1e2735;padding:.4rem .6rem;border-bottom:1px solid #304357}
    .lang-btn{background:none;border:none;color:#c9d1d9;font-size:1.2rem;cursor:pointer;
              margin-right:.4rem;opacity:.55;transition:opacity .2s}
    .lang-btn.active{opacity:1}
    .copy-btn{background:none;border:none;color:#c9d1d9;font-size:1.1rem;cursor:pointer}
    pre{margin:0;padding:1rem;overflow-x:auto;background:#0d1117;color:#c9d1d9;font-size:.9rem}
    pre.hidden{display:none}
    code{font-family:Consolas,monaco,monospace}
  </style>
</head>
<body>
<!-- ───────── NAV ───────── -->
<nav>
  <img src="images/camcloud.png" alt="Camcloud logo">

  <button class="menu-toggle" aria-label="Menu">
    <svg viewBox="0 0 24 24"><path d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z" fill="#ffffff"/></svg>
  </button>

  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="quick-start.html">Quick&nbsp;Start</a></li>
    <li><a href="examples.html">Examples</a></li>
    <li><a href="api-reference.html">API&nbsp;Reference</a></li>
    <li><a href="changelog.html">Changelog</a></li>
  </ul>
</nav>

<!-- ───────── PAGE CONTENT ───────── -->
<main>
  <h1>Practical API Examples</h1>

  <!-- ========== 1. AUTHORIZE ========== -->
  <article id="auth">
    <h2>1. Discover your account context <small>(/v1/authorizeV2)</small></h2>

    <div class="code-sample">
      <div class="code-toolbar">
        <div>
          <button class="lang-btn active" data-lang="python"
                  title="Python"><i class="fa-brands fa-python"></i></button>
          <button class="lang-btn" data-lang="php"
                  title="PHP"><i class="fa-brands fa-php"></i></button>
          <button class="lang-btn" data-lang="shell"
                  title="cURL"><i class="fa-solid fa-terminal"></i></button>
        </div>
        <button class="copy-btn" title="Copy code"><i class="fa-regular fa-copy"></i></button>
      </div>

      <pre data-lang="python"><code class="language-python">import os, requests, pprint

BASE_URL = "https://api.hostedcloudvideo.com"
API_KEY  = os.environ["API_KEY"]

r = requests.get(f"{BASE_URL}/v1/authorizeV2",
                 headers={"Authorization": f"Bearer {API_KEY}"})
pprint.pp(r.json())</code></pre>

      <pre data-lang="php" class="hidden"><code class="language-php">&lt;?php
$base   = 'https://api.hostedcloudvideo.com';
$apiKey = getenv('API_KEY');

$ch = curl_init("$base/v1/authorizeV2");
curl_setopt_array($ch, [
  CURLOPT_HTTPHEADER     =&gt; ["Authorization: Bearer $apiKey"],
  CURLOPT_RETURNTRANSFER =&gt; true
]);
print_r(json_decode(curl_exec($ch), true));
curl_close($ch);
?&gt;</code></pre>

      <pre data-lang="shell" class="hidden"><code class="language-shell">curl -H "Authorization: Bearer &lt;API_KEY&gt;" \
  https://api.hostedcloudvideo.com/v1/authorizeV2</code></pre>
    </div>
  </article>

  <!-- ========== 2. LIST CAMERAS ========== -->
  <article id="list-cameras">
    <h2>2. List all cameras <small>(/v1/accounts/{accountId}/cameras)</small></h2>

    <div class="code-sample">
      <div class="code-toolbar">
        <div>
          <button class="lang-btn active" data-lang="python"><i class="fa-brands fa-python"></i></button>
          <button class="lang-btn" data-lang="php"><i class="fa-brands fa-php"></i></button>
          <button class="lang-btn" data-lang="shell"><i class="fa-solid fa-terminal"></i></button>
        </div>
        <button class="copy-btn"><i class="fa-regular fa-copy"></i></button>
      </div>

      <pre data-lang="python"><code class="language-python">import os, requests, json
BASE_URL   = "https://api.hostedcloudvideo.com"
ACCOUNT_ID = "&lt;ACCOUNT_ID&gt;"
API_KEY    = os.environ["API_KEY"]

r = requests.get(f"{BASE_URL}/v1/accounts/{ACCOUNT_ID}/cameras",
                 headers={"Authorization": f"Bearer {API_KEY}"})
print(json.dumps(r.json(), indent=2))</code></pre>

      <pre data-lang="php" class="hidden"><code class="language-php">&lt;?php
$base   = 'https://api.hostedcloudvideo.com';
$acctId = '&lt;ACCOUNT_ID&gt;';
$apiKey = getenv('API_KEY');

$ch = curl_init("$base/v1/accounts/$acctId/cameras");
curl_setopt_array($ch, [
  CURLOPT_HTTPHEADER     =&gt; ["Authorization: Bearer $apiKey"],
  CURLOPT_RETURNTRANSFER =&gt; true
]);
echo curl_exec($ch);
curl_close($ch);
?&gt;</code></pre>

      <pre data-lang="shell" class="hidden"><code class="language-shell">curl -H "Authorization: Bearer &lt;API_KEY&gt;" \
  https://api.hostedcloudvideo.com/v1/accounts/&lt;ACCOUNT_ID&gt;/cameras</code></pre>
    </div>
  </article>

  <!-- ========== 3. UPDATE CAMERA ========== -->
  <article id="update-camera">
    <h2>3. Update a camera (rename / TZ)</h2>

    <div class="code-sample">
      <div class="code-toolbar">
        <div>
          <button class="lang-btn active" data-lang="python"><i class="fa-brands fa-python"></i></button>
          <button class="lang-btn" data-lang="php"><i class="fa-brands fa-php"></i></button>
          <button class="lang-btn" data-lang="shell"><i class="fa-solid fa-terminal"></i></button>
        </div>
        <button class="copy-btn"><i class="fa-regular fa-copy"></i></button>
      </div>

      <pre data-lang="python"><code class="language-python">import os, requests
BASE_URL  = "https://api.hostedcloudvideo.com"
CAMERA_ID = "&lt;CAMERA_ID&gt;"
API_KEY   = os.environ["API_KEY"]

payload = {"name":"Front Door","timezone":"America/Toronto"}
r = requests.put(f"{BASE_URL}/v1/cameras/{CAMERA_ID}",
                 headers={"Authorization": f"Bearer {API_KEY}",
                          "Content-Type":"application/json"},
                 json=payload)
print(r.status_code)</code></pre>

      <pre data-lang="php" class="hidden"><code class="language-php">&lt;?php
$base     = 'https://api.hostedcloudvideo.com';
$cameraId = '&lt;CAMERA_ID&gt;';
$apiKey   = getenv('API_KEY');

$payload = json_encode(['name' =&gt; 'Front Door','timezone' =&gt; 'America/Toronto']);

$ch = curl_init("$base/v1/cameras/$cameraId");
curl_setopt_array($ch, [
  CURLOPT_CUSTOMREQUEST  =&gt; 'PUT',
  CURLOPT_HTTPHEADER     =&gt; [
    "Authorization: Bearer $apiKey",
    'Content-Type: application/json'
  ],
  CURLOPT_POSTFIELDS     =&gt; $payload,
  CURLOPT_RETURNTRANSFER =&gt; true
]);
echo curl_exec($ch);
curl_close($ch);
?&gt;</code></pre>

      <pre data-lang="shell" class="hidden"><code class="language-shell">curl -X PUT -H "Authorization: Bearer &lt;API_KEY&gt;" \
  -H "Content-Type: application/json" \
  -d '{"name":"Front Door","timezone":"America/Toronto"}' \
  https://api.hostedcloudvideo.com/v1/cameras/&lt;CAMERA_ID&gt;</code></pre>
    </div>
  </article>

  <!-- ―― Repeat pattern for events, exports, health, API keys (omitted here for brevity) ―― -->

  <p style="margin-top:3rem">
    Full parameter details live in the <a href="api-reference.html">API Reference</a>.  
    These snippets follow the *curl-first, then-code* workflow from the “Getting Started” PDF.
  </p>
</main>

<!-- ───────── SCRIPTS ───────── -->
<script>
/* mobile nav */
document.querySelector('.menu-toggle')?.addEventListener('click', e =>
  e.currentTarget.parentElement.classList.toggle('open'));

/* language switcher & copy */
document.querySelectorAll('.code-sample').forEach(sample => {
  const btns  = sample.querySelectorAll('.lang-btn');
  const codes = sample.querySelectorAll('pre');

  btns.forEach(btn => btn.addEventListener('click', () => {
    const lang = btn.dataset.lang;
    btns.forEach(b => b.classList.toggle('active', b === btn));
    codes.forEach(pre => pre.classList.toggle('hidden',
                   pre.dataset.lang !== lang));
  }));

  /* copy button */
  sample.querySelector('.copy-btn').addEventListener('click', () => {
    const visible = sample.querySelector('pre:not(.hidden) code');
    navigator.clipboard.writeText(visible.innerText)
      .then(() => sample.querySelector('.copy-btn i')
                        .classList.replace('fa-copy','fa-check'))
      .catch(console.error)
      .finally(() => setTimeout(() => sample.querySelector('.copy-btn i')
                                            .classList.replace('fa-check','fa-copy'),1200));
  });
});
</script>
</body>
</html>
